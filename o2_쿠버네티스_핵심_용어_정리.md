# Kubernetes 핵심 용어 정리

## 기본 개념

### 클러스터 (Cluster)
Kubernetes로 관리되는 컨테이너화된 애플리케이션을 실행하는 노드들의 집합입니다. 하나 이상의 마스터 노드와 여러 워커 노드로 구성됩니다.

### 노드 (Node)
클러스터의 개별 머신(물리 서버 또는 가상 머신)을 의미합니다. 각 노드는 컨테이너를 실행하기 위한 서비스들을 포함합니다.

**마스터 노드 (Control Plane)**
- 클러스터의 두뇌 역할
- API 서버, 스케줄러, 컨트롤러 매니저 실행
- 클러스터 상태 관리 및 의사결정 담당

**워커 노드**
- 실제 애플리케이션 컨테이너 실행
- kubelet, kube-proxy, container runtime 실행

## 핵심 워크로드 객체

### 파드 (Pod)
Kubernetes에서 배포 가능한 가장 작은 단위입니다. 하나 이상의 컨테이너를 포함하며, 동일한 네트워크와 스토리지를 공유합니다.

**특징**
- 파드 내 컨테이너들은 localhost로 통신
- 파드는 임시적(ephemeral) 특성을 가짐
- 고유한 IP 주소 할당

### 레플리카셋 (ReplicaSet)
지정된 수의 파드 복제본이 항상 실행되도록 보장하는 컨트롤러입니다. 파드가 실패하면 자동으로 새로운 파드를 생성합니다.

### 디플로이먼트 (Deployment)
애플리케이션의 선언적 업데이트를 제공하는 상위 레벨 개념입니다. 레플리카셋을 관리하며, 롤링 업데이트와 롤백 기능을 제공합니다.

**주요 기능**
- 무중단 배포 (Rolling Update)
- 배포 히스토리 관리
- 스케일링 자동화
- 롤백 지원

### 스테이트풀셋 (StatefulSet)
상태가 있는 애플리케이션을 관리하기 위한 워크로드 API입니다. 파드의 순서와 고유성을 보장합니다.

**사용 사례**
- 데이터베이스 (MySQL, PostgreSQL)
- 분산 시스템 (Kafka, Elasticsearch)
- 순서가 중요한 애플리케이션

### 데몬셋 (DaemonSet)
클러스터의 모든 노드 또는 특정 노드에서 파드 복사본을 실행하도록 보장합니다.

**사용 사례**
- 로그 수집 에이전트
- 모니터링 에이전트
- 네트워크 플러그인

### 잡 (Job)
하나 이상의 파드를 실행하고 지정된 수의 파드가 성공적으로 완료되도록 보장합니다.

### 크론잡 (CronJob)
시간 기반 스케줄에 따라 잡을 실행합니다. Linux의 cron과 유사한 기능을 제공합니다.

## 네트워킹

### 서비스 (Service)
파드들에게 안정적인 네트워크 엔드포인트를 제공하는 추상화 계층입니다. 파드의 IP가 변경되어도 서비스 IP는 유지됩니다.

**서비스 타입**

**ClusterIP**
- 클러스터 내부에서만 접근 가능한 기본 타입
- 내부 로드 밸런싱 제공

**NodePort**
- 각 노드의 특정 포트를 통해 서비스 노출
- 외부에서 접근 가능

**LoadBalancer**
- 클라우드 제공자의 로드 밸런서를 자동 생성
- 외부 IP 주소 할당

**ExternalName**
- DNS CNAME 레코드를 통해 외부 서비스와 연결

### 인그레스 (Ingress)
클러스터 외부에서 클러스터 내부 서비스로의 HTTP/HTTPS 라우팅을 관리합니다.

**기능**
- 호스트 기반 라우팅
- 경로 기반 라우팅
- TLS/SSL 터미네이션
- 로드 밸런싱

### 네트워크 정책 (NetworkPolicy)
파드 간의 네트워크 트래픽을 제어하는 규칙을 정의합니다. 마이크로 세그멘테이션을 통한 보안 강화가 가능합니다.

## 스토리지

### 볼륨 (Volume)
파드의 컨테이너들이 데이터를 공유하거나 데이터를 영속화하기 위한 스토리지 추상화입니다.

**볼륨 타입**
- emptyDir: 임시 볼륨
- hostPath: 호스트 디렉토리 마운트
- persistentVolumeClaim: 영구 볼륨 요청

### 퍼시스턴트 볼륨 (PersistentVolume, PV)
클러스터의 스토리지 리소스를 나타내는 객체입니다. 관리자에 의해 프로비저닝되거나 동적으로 생성됩니다.

### 퍼시스턴트 볼륨 클레임 (PersistentVolumeClaim, PVC)
사용자의 스토리지 요청을 나타냅니다. 파드가 노드 리소스를 요청하는 것처럼, PVC는 PV 리소스를 요청합니다.

### 스토리지 클래스 (StorageClass)
스토리지의 "클래스"를 정의하는 객체입니다. 동적 프로비저닝을 위한 템플릿 역할을 합니다.

## 설정 관리

### 컨피그맵 (ConfigMap)
키-값 쌍으로 비밀이 아닌 데이터를 저장하는 API 객체입니다. 애플리케이션 설정 정보를 컨테이너와 분리하여 관리할 수 있습니다.

**사용 방법**
- 환경 변수로 주입
- 명령줄 인수로 사용
- 볼륨 파일로 마운트

### 시크릿 (Secret)
비밀번호, OAuth 토큰, SSH 키 등의 민감한 정보를 저장하는 객체입니다. Base64로 인코딩되어 저장됩니다.

**시크릿 타입**
- Opaque: 일반적인 비밀 데이터
- kubernetes.io/dockerconfigjson: Docker 레지스트리 인증
- kubernetes.io/tls: TLS 인증서와 키

## 보안 및 접근 제어

### 서비스 어카운트 (ServiceAccount)
파드가 Kubernetes API에 접근할 때 사용하는 계정입니다. 각 네임스페이스마다 기본 서비스 어카운트가 자동 생성됩니다.

### 역할 기반 접근 제어 (RBAC)
사용자나 서비스 어카운트에게 권한을 부여하는 메커니즘입니다.

**구성 요소**
- Role/ClusterRole: 권한 정의
- RoleBinding/ClusterRoleBinding: 권한 부여

### 파드 보안 정책 (Pod Security Policy)
파드가 실행될 때 적용되는 보안 제약 조건을 정의합니다. (v1.25부터 Pod Security Standards로 대체)

## 네임스페이스 및 라벨

### 네임스페이스 (Namespace)
클러스터 내에서 리소스를 논리적으로 분리하는 방법입니다. 멀티 테넌시를 지원하며, 리소스 이름의 범위를 제한합니다.

**기본 네임스페이스**
- default: 기본 네임스페이스
- kube-system: 시스템 컴포넌트용
- kube-public: 모든 사용자가 읽을 수 있는 공개 정보
- kube-node-lease: 노드 하트비트 정보

### 라벨 (Label)
객체에 첨부되는 키-값 쌍으로, 객체를 식별하고 그룹화하는 데 사용됩니다.

### 셀렉터 (Selector)
라벨을 기반으로 객체를 선택하는 메커니즘입니다.

**타입**
- Equality-based: =, ==, != 연산자
- Set-based: in, notin, exists 연산자

### 어노테이션 (Annotation)
객체에 메타데이터를 첨부하는 방법입니다. 라벨과 달리 선택 기준으로 사용할 수 없으며, 도구나 라이브러리에서 활용됩니다.

## 확장성

### 수평 파드 오토스케일러 (HPA)
CPU 사용률이나 기타 메트릭을 기반으로 파드 수를 자동으로 조정합니다.

### 수직 파드 오토스케일러 (VPA)
파드의 CPU와 메모리 요청을 자동으로 조정합니다.

### 클러스터 오토스케일러 (CA)
노드 리소스 부족 시 클러스터에 노드를 자동으로 추가하거나 제거합니다.

## 모니터링 및 로깅

### 리소스 쿼터 (ResourceQuota)
네임스페이스에서 사용할 수 있는 리소스의 총량을 제한합니다.

### 리밋 레인지 (LimitRange)
네임스페이스 내에서 개별 객체가 사용할 수 있는 리소스 범위를 제한합니다.

### 프로브 (Probe)
컨테이너의 상태를 진단하기 위한 메커니즘입니다.

**타입**
- livenessProbe: 컨테이너 생존 여부 확인
- readinessProbe: 컨테이너 준비 상태 확인
- startupProbe: 초기 시작 상태 확인